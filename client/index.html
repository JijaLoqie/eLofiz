<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>eLofiz - Class "E" of vibing</title>
    <link rel="stylesheet" href="public/styles/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="src/index.ts" type="module"></script>
</head>
<body>
    <template id="modal-menu-template">
        <div id="modal-menu" class="modal">
            <div class="modal__currentSpace-info">
                <span class="modal__currentSpace-label">Текущее пространство:</span>
                <span class="modal_currentSpace-name">Main</span>
            </div>
            <div class="modal__buttons">
<!--                <button data-widget="MUSIC" class="button">Музыка</button>-->
<!--                <button data-widget="BACKGROUND" class="button">Задний фон</button>-->
            </div>
        </div>
    </template>
    <template id ="space-template">
        <div class="space">
            <svg style="display: none">
                <filter
                        id="glass-distortion"
                        x="0%"
                        y="0%"
                        width="100%"
                        height="100%"
                        filterUnits="objectBoundingBox"
                >
                    <feTurbulence
                            type="fractalNoise"
                            baseFrequency="0.01 0.01"
                            numOctaves="1"
                            seed="5"
                            result="turbulence"
                    />
                    <!-- Seeds: 14, 17,  -->

                    <feComponentTransfer in="turbulence" result="mapped">
                        <feFuncR type="gamma" amplitude="1" exponent="10" offset="0.5" />
                        <feFuncG type="gamma" amplitude="0" exponent="1" offset="0" />
                        <feFuncB type="gamma" amplitude="0" exponent="1" offset="0.5" />
                    </feComponentTransfer>

                    <feGaussianBlur in="turbulence" stdDeviation="3" result="softMap" />

                    <feSpecularLighting
                            in="softMap"
                            surfaceScale="5"
                            specularConstant="1"
                            specularExponent="100"
                            lighting-color="white"
                            result="specLight"
                    >
                        <fePointLight x="-200" y="-200" z="300" />
                    </feSpecularLighting>

                    <feComposite
                            in="specLight"
                            operator="arithmetic"
                            k1="0"
                            k2="1"
                            k3="1"
                            k4="0"
                            result="litImage"
                    />

                    <feDisplacementMap
                            in="SourceGraphic"
                            in2="softMap"
                            scale="150"
                            xChannelSelector="R"
                            yChannelSelector="G"
                    />
                </filter>
            </svg>
            <audio class="space__music">NaN</audio>
        </div>
    </template>
    <template id="widget-music-template">
        <div class="music-player">
            <div class="info">
                <div class="title">Music Title</div>
                <button class="button playlist" data-type="playlist" aria-label="Playlist">
                    [playlist]
                </button>
            </div>
            <div class="navigation">
                <button class="button" data-type="previous" type="button" aria-label="Previous track">
                    [prev]
                </button>
                <button class="button back" data-type="back">
                    [-30]
                </button>
                <div class="button play" data-type="play">
                    [play]
                </div>
                <button class="button forward" data-type="forward">
                    [+30]
                </button>
                <button class="button" data-type="next" type="button" aria-label="Next track">
                    [next]
                </button>
            </div>
            <div class="controls">
                <span class="progress">0:00:00</span>
                <button class="button v-minus" data-type="volume-decrease" aria-label="Decrease volume">
                    [v-]
                </button>
                <span class="volume">100 %</span>
                <button class="button v-increase" data-type="volume-increase" aria-label="Increase volume">
                    [v+]
                </button>
                <button class="button" data-type="random" aria-label="Random">
                    [random]
                </button>
            </div>
        </div>
    </template>

    <template id="widget-image-selection-template">
        <div class="image-widget">
            <div class="image-widget__section">
                <h3 class="image-widget__title">Выберите изображения</h3>
                <div class="image-widget__grid" data-selected-images></div>
                <button class="button" data-type="add-images" data-add-images type="button" aria-label="Add images">
                    <span class="image-widget__add-icon">+</span>
                    Добавить изображения
                </button>
                <input
                        type="file"
                        multiple
                        accept="image/*"
                        class="image-widget__file-input"
                        data-file-input
                        hidden
                />
            </div>

            <div class="image-widget__section">
                <h3 class="image-widget__title">Параметры</h3>
                <div class="image-widget__options">
                    <label data-type="pin-images" class="checkbox">
                        <input
                                type="checkbox"
                                class="image-widget__checkbox-input"
                                data-pin-images
                        />
                        <span class="image-widget__checkbox-label">Закрепить</span>
                    </label>
                </div>
            </div>
        </div>
    </template>

    <template id="widget-audio-visualizer-template">
        <div class="audio-visualizer resizable">
            <div class="visualizer-container">
                <canvas class="visualizer-canvas"></canvas>
            </div>
        </div>
    </template>

    <template id="widget-template">
        <div class="widget liquidGlass-effect resizable-wrapper">
            <div class="widget__header">
                <button data-close-button class="button" data-type="close" aria-label="Close widget">&times;</button>
            </div>
            <div class="widget__content"></div>
        </div>
    </template>

</body>
</html>